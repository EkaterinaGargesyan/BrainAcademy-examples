<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<style>
    .container-avatar {
        margin: 30px;
        padding: 30px;
        border: 3px solid #90EE90;
        border-radius: 2px;
        width: 150px;
        text-align: center;
    }
    .avatar {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        overflow: hidden;
        background: url(../img/step4/loading.svg) no-repeat 50% 50%;
        background-size: cover;
    }
    .load button,
    .generate button {
        margin-top: 30px;
        width: 100px;
        height: 30px;
        border: 2px solid #90EE90;
        border-radius: 2px;
        background-color: #98FB98;
        color: #006400;
        outline: none;
    }
    .load button:active,
    .generate button:active {
        transform: scale(.8);
    }
    .gen-form {
        display: none;
    }
    .load input {
        display: none;
        margin-top: 30px;
    }
    p {
        border: 2px solid #90EE90;
        border-radius: 2px;
        background-color: #98FB98;
    }
    p,
    label {
        color: #006400;
    }



</style>
    <div class="container-avatar">

        <div class="avatar"></div>

        <div class="load">
            <input type="file">
            <button>load file</button>
        </div>

        <div class="generate">
            <form class="gen-form" method="post">
               <p>Sex</p>
                <label>
                    <input type="radio" name="sex"> male
                </label>
                <label>
                    <input type="radio" name="sex"> female
                </label>

                <p>Age</p>
                <label>
                <input type="radio" name="age">... - 25 years
                </label>
               <br>
                <label>
                <input type="radio" name="age">26 - 40 years
                </label>
               <br>
                <label>
                <input type="radio" name="age">41 - ... years
                </label>
            </form>
            <button>generate</button>
        </div>

    </div>

    <script>
        var containerAvatar = document.querySelector(".avatar");
        var btnLoad = document.querySelector(".load button");
        var btnGen = document.querySelector(".generate button");

        var urlAvatar = {
            maleYoung: [
                "http://www.smart-tracker.ch/wp-content/uploads/2013/12/myAvatar.png",
                "https://mycred.me/wp-content/plugins/svg-avatars-generator/data/ready-avatars/svgA14507905300839352.png",
                "http://cdn.revistagq.com/uploads/images/thumbs/201435/100_mejores_protagonistas_series_historias_130568249_322x480.jpg"
            ],
            maleMiddle: [
                "https://usercontent2.hubstatic.com/10577727_f520.jpg",
                "http://studentview.com.au/wp-content/uploads/2016/06/myAvatar-6.png",
                "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT-xNgzBHY6AsYS7MLjZihLdinbZNKIRJNQ2M6LNmKkQEwL-w9L"
            ],
            maleOld: [
                "https://pickaface.net/assets/images/slides/slide2.png",
                "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSkdVuDplWuPrUusMYyTr0-I2csWqNO05F9t9nn4oPYFVLwNRphKQ",
                "http://i.imgur.com/Yfbd3iA.png"
            ],
            femaleYoung: [
                "http://avatargenerator.ru/images/uploads/member-3[1].jpg",
                "https://cdn.discourse.org/imgur/uploads/default/11232/bfba5b38e8adf411.png",
                "http://wito.ma/witoadmin/pages/img/f72cd37a6582e4d88cbff9d4598dd64f.jpg"

            ],
            femaleMiddle: [
                "https://s-media-cache-ak0.pinimg.com/736x/7f/79/6d/7f796d57218d9cd81a92d9e6e8e51ce4.jpg",
                "https://s-media-cache-ak0.pinimg.com/originals/29/f7/23/29f723aedccfc520c34a0b038d7a3109.png",
                "http://www.casoviengleskogonline.com/images/klijenti/female_cartoon_avatar_by_ahninniah-d6fo72f.png"

            ],
            femaleOld: [
                "https://s-media-cache-ak0.pinimg.com/564x/9e/02/dc/9e02dcfae7c45c7d9302a379ea7c16db.jpg",
                "https://s-media-cache-ak0.pinimg.com/236x/2b/00/73/2b0073b79eedbf1c27c97b583dca8a40.jpg",
                "https://s-media-cache-ak0.pinimg.com/736x/a3/ff/c1/a3ffc1c11ec6043b940189d2b874887a.jpg"
            ]
        };

        function getRandom(min, max) {
            return Math.floor(Math.random() * (max - min)) + min;
        }

        function setAvatar(nameUrl){
            containerAvatar.style.background = `url(${nameUrl}) no-repeat 50% 50%`;
            containerAvatar.style.backgroundSize = "contain";
        }

        var clickBtnGen = {
            0: function () {
                var form = document.querySelector(".gen-form");
                btnLoad.style.display = "none";
                form.style.display = "block";
            },
            1: function generate() {
                var inputs = document.querySelectorAll(".gen-form input");
                if (inputs[0].checked) {
                    if (inputs[2].checked) {
                        setAvatar(urlAvatar.maleYoung[getRandom(0, 3)]);
                    }
                    if (inputs[3].checked) {
                        setAvatar(urlAvatar.maleMiddle[getRandom(0, 3)]);
                    }
                    if (inputs[4].checked) {
                        setAvatar(urlAvatar.maleOld[getRandom(0, 3)]);
                    }
                } else if (inputs[1].checked) {
                    if (inputs[2].checked) {
                        setAvatar(urlAvatar.femaleYoung[getRandom(0, 3)]);
                    }
                    if (inputs[3].checked) {
                        setAvatar(urlAvatar.femaleMiddle[getRandom(0, 3)]);
                    }
                    if (inputs[4].checked) {
                        setAvatar(urlAvatar.femaleOld[getRandom(0, 3)]);
                    }
                }
            }
        };
    </script>

    <script>
        btnLoad.addEventListener("click", function () {
            var photo = document.querySelector(".load input");
            photo.style.display = "block";
            btnGen.style.display = "none";
        });

        btnGen.addEventListener("click", function () {
            if(clickBtnGen[0]) {
                clickBtnGen[0]();
            }
            if (clickBtnGen[1]) {
                clickBtnGen[1]();
            }
        });

    </script>
</body>
</html>